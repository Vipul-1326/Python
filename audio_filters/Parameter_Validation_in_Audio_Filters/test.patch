# Tests for parameter validation in butterworth_filter and iir_filter

import numpy as np
import pytest
from audio_filters import butterworth_filter, iir_filter

def test_new_negative_cutoff():
    signal = np.ones(10)
    with pytest.raises(ValueError):
        butterworth_filter(signal, sample_rate=44100, cutoff_freq=-1, order=2)
    with pytest.raises(ValueError):
        iir_filter(signal, sample_rate=44100, cutoff_freq=-1, order=2)

def test_new_zero_sample_rate():
    signal = np.ones(10)
    with pytest.raises(ValueError):
        butterworth_filter(signal, sample_rate=0, cutoff_freq=100, order=2)
    with pytest.raises(ValueError):
        iir_filter(signal, sample_rate=0, cutoff_freq=100, order=2)

def test_new_invalid_order():
    signal = np.ones(10)
    with pytest.raises(ValueError):
        butterworth_filter(signal, sample_rate=44100, cutoff_freq=100, order=0)
    with pytest.raises(ValueError):
        iir_filter(signal, sample_rate=44100, cutoff_freq=100, order=-1)

def test_new_non_numeric_signal():
    signal = ["a", "b", "c"]
    with pytest.raises(ValueError):
        butterworth_filter(signal, sample_rate=44100, cutoff_freq=100, order=2)
    with pytest.raises(ValueError):
        iir_filter(signal, sample_rate=44100, cutoff_freq=100, order=2)

def test_new_multi_dimensional_signal():
    signal = np.ones((10, 2))
    with pytest.raises(ValueError):
        butterworth_filter(signal, sample_rate=44100, cutoff_freq=100, order=2)
    with pytest.raises(ValueError):
        iir_filter(signal, sample_rate=44100, cutoff_freq=100, order=2)

def test_new_cutoff_above_nyquist():
    signal = np.ones(10)
    with pytest.raises(ValueError):
        butterworth_filter(signal, sample_rate=44100, cutoff_freq=22050, order=2)
    with pytest.raises(ValueError):
        iir_filter(signal, sample_rate=44100, cutoff_freq=22050, order=2)

def test_new_large_signal():
    signal = np.ones(1000000)
    with pytest.raises(ValueError):
        butterworth_filter(signal, sample_rate=44100, cutoff_freq=0, order=2)
    with pytest.raises(ValueError):
        iir_filter(signal, sample_rate=44100, cutoff_freq=0, order=2)
